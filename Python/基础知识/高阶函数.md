# Python高阶函数
```
函数式编程：允许将函数作为一个函数传给另一个函数，也允许返回函数。

普通函数：允许将变量作为参数传递给函数。
高阶函数：不仅允许将变量作为参数传递给函数，还允许将函数作为参数传递给函数，同时也允许返回一个函数。
```

* 理解函数
```
In [1]: abs
Out[1]: <function abs>

In [2]: abs(10)
Out[2]: 10

In [3]: a = abs

In [4]: a(-20)
Out[4]: 20

In [5]:

在这里abs是函数名，是一个指向函数对象的一个变量。abs()是函数调用，将其返回值作为一个结果。

同时也可以把函数本身赋值给变量，则该变量则变成了对该函数的一个引用。
```

* 定义一个高阶函数
```
高阶函数：将函数作为参数传递给另一个函数。

In [5]: def test(f, x, y):
   ...:     return f(x) * f(y)
   ...:

In [6]: test(abs, -2, 3)
Out[6]: 6

In [7]:
```

* map
```
作用：对序列中的每一个元素分别应用函数，将其结果作为一个新的列表返回。

示例1：
In [17]: map(abs, [-1,-2,3])
Out[17]: [1, 2, 3]

In [18]:

示例2：
In [106]: def test(x):
     ...:     return x*x*x
     ...:

In [107]: a
Out[107]: [1, 2, 5, 7]

In [108]: map(test, a)
Out[108]: [1, 8, 125, 343]

In [109]:

示例3：
In [121]: ip
Out[121]: '192.168.100.1'

In [122]: def to_binary(x):
     ...:     return '{0:08b}'.format(x)
     ...:

In [123]: map(to_binary, map(int, ip.split('.')))
Out[123]: ['11000000', '10101000', '01100100', '00000001']

In [124]:
```

* reduce
```
作用：reduce把一个函数作用在一个序列[x1, x2, x3...]上，这个函数必须接收两个参数，reduce把结果继续和序列的下一个元素做累积计算，返回最终的结果。同时reduce也可以指定一个初始值。

示例1：
In [128]: def a(x, y):
     ...:     return x + y
     ...:

In [129]: reduce(a, range(1,101))
Out[129]: 5050

In [130]:

示例2：reduce指定初始值。
In [132]: def add(x, y):
     ...:     return x + y
     ...:

In [133]: reduce(add, range(1,100), 100)
Out[133]: 5050

In [134]:

示例3：
In [149]: reduce(lambda x, y: x * 10 + y, range(1,6))
Out[149]: 12345

In [150]:

示例4：
In [183]: map(str.capitalize, ['adam', 'LISA', 'barT'])
Out[183]: ['Adam', 'Lisa', 'Bart']

In [184]:
```

* filter
```
作用：用于过滤不满足条件的值，将满足条件的值留下来.
filter也是接收一个函数和一个列表，对列表中的每一个元素应用函数，如果结果为True，则保留，否则，丢弃。

示例1：返回20以内的质数
In [225]: def isPrime(n):
     ...:     return 0 not in map(lambda x: n % x, range(2, n))
     ...:

In [226]: filter(isPrime, range(2,20))
Out[226]: [2, 3, 5, 7, 11, 13, 17, 19]

In [227]:
```

* sorted
```
作用：对列表进行排序，按照从小到大的顺序排列，返回一个新的列表。也可以跟上一个排序函数，按照指定的方式进行排序。
排序：x > y， 返回1， x < y返回-1，否则返回0

示例1：使用排序函数，对结果进行逆序
In [236]: def reverse_map(x, y):
     ...:     if x > y:
     ...:         return -1
     ...:     if x < y:
     ...:         return 1
     ...:     return 0
     ...:

In [237]: sorted([3,1,4,6,5,9,0])
Out[237]: [0, 1, 3, 4, 5, 6, 9]

In [238]: sorted([3,1,4,6,5,9,0], reverse=True)
Out[238]: [9, 6, 5, 4, 3, 1, 0]

In [239]: sorted([3,1,4,6,5,9,0], reverse_map)
Out[239]: [9, 6, 5, 4, 3, 1, 0]

In [240]:
```